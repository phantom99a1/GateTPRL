@using HNXTPRLGate.Resources;
@using APIMonitor.ObjectInfo;
@model BoxConnectModel;

<div class="main">
    <div class="container">
        <div class="group">
            <div class="group__inner v1">
                <div id="mainData">
                    @await Html.PartialAsync("~/Views/Home/_BoxConnect.cshtml", Model)
                </div>
            </div>

            <div class="group__inner">
                <div class="group__box infomation">
                    <div class="box">
                        <div class="box__head">
                            @Resource.lblThongBao
                        </div>
                        <div class="box__body"></div>
                    </div>

                    <div class="box">
                        <div class="box__head">
                            @Resource.lblLoiHeThong
                        </div>
                        <div class="box__body"></div>
                    </div>
                </div>

                <div class="group__box refresh">
                    <button><em class="fa-solid fa-arrows-rotate"></em></button>
                    <div class="refresh__info">
                        <span id="countdown"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var timeleft = 5;
    var downloadTimer = setInterval(function () {
        //console.log("--init", timeleft);
        if (timeleft <= 0) {
            clearInterval(downloadTimer);
            document.getElementById("countdown").innerHTML = timeleft + " seconds auto refresh";
            ReloadData();
        } else {
            document.getElementById("countdown").innerHTML = timeleft + " seconds auto refresh";
        }
        timeleft -= 1;
    }, 1000);
</script>