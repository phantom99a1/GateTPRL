@using APIMonitor.Models
@using HNX.FIXMessage
@using CommonLib;
@model DataMemModel;
@{
	var dataMem = new DataMemModel();
	dataMem.ListSearchSecurities = Model?.ListSearchSecurities ?? new();
	dataMem.ListDisplaySecurities = Model?.ListDisplaySecurities ?? new();
	dataMem.PageIndexSecurities = Model?.PageIndexSecurities;
	dataMem.PageIndexMaxSecurities = Model?.PageIndexMaxSecurities;
	var RecordInPage = ConfigData.RecordInPage;
	var dicSecurityTrading = new Dictionary<int, string>()
	{
		{0,"Bình thường"},
		{1,"CK không được giao dịch trong ngày"},
		{2,"Ngừng giao dịch"},
		{6,"huỷ niêm yết"},
		{9,"Chờ giao dịch"},
		{10,"Tạm ngừng"},
		{11,"Hạn chế giao dịch"},
		{25,"Trái phiếu đặc biệt"},
	};
}
<div style="overflow-y:auto; max-height:200px">
	<table class="tablelist">
		<thead>
			<tr>
				<th class="number">No</th>
				<th>Symbol</th>
				<th>Symbol Status</th>
				<th>Outright High Price</th>
				<th>Outright Low Price</th>
				<th>Repos High Price</th>
				<th>Repos Low Price</th>
				<th>Last Price</th>
				<th>High Price</th>
				<th>Low Price</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in dataMem.ListDisplaySecurities.Select((data, index) => new { data, index }))
			{
				<tr>
					<td class="number text-center">@((Model?.PageIndexSecurities - 1) * RecordInPage + item.index + 1)</td>
					<td style="text-align:center">@item.data.Symbol</td>
					<td style="text-align:center">@dicSecurityTrading[item.data.SecurityTradingStatus]</td>
					<td style="text-align:center">@item.data.HighPxOut</td>
					<td style="text-align:center">@item.data.LowPxOut</td>
					<td style="text-align:center">@item.data.HighPxRep</td>
					<td style="text-align:center">@item.data.LowPxRep</td>
					<td style="text-align:center">@item.data.LastPx</td>
					<td style="text-align:center">@item.data.HighPx</td>
					<td style="text-align:center">@item.data.LowPx</td>
				</tr>
			}
		</tbody>
	</table>
</div>
@if (dataMem != null && dataMem.ListDisplaySecurities.Count > 0)
{
	<div class="box__action d-flex justify-content-between align-items-center mt-4 w-100">
		<div class="box__action d-flex px-3">
			<button class="primary" style="background-color:#007bff" onclick="GetSecuritiesListByPage(1)">First Page</button>
		</div>
		@if (dataMem.PageIndexSecurities > 1)
		{
			<div class="box__action d-flex px-3">
				<button class="primary" style="background-color:#007bff" onclick="GetSecuritiesListByPage(@dataMem.PageIndexSecurities - 1)">Previous</button>
			</div>
		}
		<div class="box__action d-flex px-3">
			<span>@dataMem.PageIndexSecurities/@dataMem.PageIndexMaxSecurities</span>
		</div>
		@if (dataMem.PageIndexSecurities < dataMem.PageIndexMaxSecurities)
		{
			<div class="box__action d-flex px-3">
				<button class="primary" style="background-color:#007bff" onclick="GetSecuritiesListByPage(@dataMem.PageIndexSecurities + 1)">Next</button>
			</div>
		}
		<div class="box__action d-flex">
			<button class="primary" style="background-color:#007bff" onclick="GetSecuritiesListByPage(@dataMem.PageIndexMaxSecurities)">Last Page</button>
		</div>
	</div>
}
<script></script>